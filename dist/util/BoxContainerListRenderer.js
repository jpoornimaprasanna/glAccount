/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/ui/Device"],function(e,t){"use strict";var r=e.ListGrowingDirection;var i=e.ListKeyboardMode;var a=e.ToolbarDesign;var s=/^([X][L](?:[1-9]|1[0-2]))? ?([L](?:[1-9]|1[0-2]))? ?([M](?:[1-9]|1[0-2]))? ?([S](?:[1-9]|1[0-2]))?$/i;var n={XL:"sapTntBoxContainerSpanXL7",L:"sapTntBoxContainerSpanL6",M:"sapTntBoxContainerSpanM4",S:"sapTntBoxContainerSpanS2"};var d=s.exec("XL7 L6 M4 S2");var o={};o.render=function(e,t){e.write("<div");e.addClass("sapMList");e.addClass("sapTntBoxContainerList");this.addSpanClasses(e,t);e.writeControlData(t);if(t.getWidth()){e.addStyle("width",t.getWidth())}var r=t.getTooltip_AsString();if(r){e.writeAttributeEscaped("title",r)}e.writeStyles();e.writeClasses();e.write(">");var i=t.getHeaderText();var s=t.getHeaderToolbar();if(s){s.setDesign(a.Transparent,true);s.addStyleClass("sapMListHdrTBar");s.addStyleClass("sapMTBHeader-CTX");e.renderControl(s)}else if(i){e.write("<header class='sapMListHdrText'");e.writeAttribute("id",t.getId("header"));e.write(">");e.writeEscaped(i);e.write("</header>")}var n=this.getRenderingConfiguration(t);if(n.upwardGrowing){this.renderGrowing(e,t)}if(n.renderItems||n.showNoData){this.renderDummyArea(e,t,"before",-1)}this.renderList(e,t);if(n.renderItems||n.showNoData){this.renderDummyArea(e,t,"after",n.tabIndex)}if(!n.upwardGrowing){this.renderGrowing(e,t)}e.write("</div>")};o.renderList=function(e,t){var r=t.getItems(),i=this.getRenderingConfiguration(t);e.write("<ul");e.addClass("sapMListItems");t.addNavSection(t.getId("listUl"));if(!i.grouped){this.renderGrid(e,t)}e.writeAttribute("id",t.getId("listUl"));e.writeAccessibilityState(t,this.getAccessibilityState(t));if(i.renderItems||i.showNoData){e.writeAttribute("tabindex",i.tabIndex)}e.addClass("sapMListUl");e.writeClasses();e.writeStyles();e.write(">");if(i.grouped){this.renderGroupedList(e,t)}else if(i.renderItems){if(i.upwardGrowing){r.reverse()}for(var a=0;a<r.length;a++){e.renderControl(r[a])}}if(!i.renderItems&&i.showNoData){this.renderNoData(e,t)}e.write("</ul>")};o.renderGroupedList=function(e,t){var r=t.getItems(),i=[],a=[],s;for(var n=0;n<r.length;n++){s=r[n];if(s.isGroupHeader()&&n!==0){a.push(i);i=[]}i.push(s)}a.push(i);a.forEach(function(r){e.write("<li>");this.renderGroup(e,t,r);e.write("</li>")},this)};o.renderGroup=function(e,t,r){var i=this.getRenderingConfiguration(t);e.write("<ul");e.addClass("sapMListItems");e.addClass("sapMListUl");this.renderGrid(e,t);e.writeClasses();e.writeStyles();e.write(">");if(i.renderItems){if(i.upwardGrowing){r.reverse()}for(var a=0;a<r.length;a++){e.renderControl(r[a])}}e.write("</ul>")};o.renderGrid=function(e,r){var i=r.getBoxWidth(),a=r.getBoxMinWidth();if(!i&&!a){e.addClass("sapTntBoxContainerRelativeWidth")}e.addClass("sapTntBoxContainerGrid");if(r.isGrouped()){e.addClass("sapTntBoxContainerGridGrouped")}if(!t.browser.msie){if(a){e.addStyle("grid-template-columns","repeat(auto-fit, minmax("+a+", 1fr)")}else if(i){e.addStyle("grid-template-columns","repeat(auto-fit, "+i+")")}}};o.addSpanClasses=function(e,t){var r,i,a=t.getBoxesPerRowConfig(),o,l,w,u;if(t._hasBoxWidth()){return}if(!a||!a.lenght===0){r=d}else{r=s.exec(a)}if(r){for(var g=1;g<r.length;g++){i=r[g];if(i){i=i.toUpperCase();switch(i.substr(0,1)){case"X":if(i.substr(1,1)==="L"){o=this.getBoxesPerRowClass(i,2)}break;case"L":l=this.getBoxesPerRowClass(i,1);break;case"M":w=this.getBoxesPerRowClass(i,1);break;case"S":u=this.getBoxesPerRowClass(i,1);break;default:break}}}}o=o||n.XL;l=l||n.L;w=w||n.M;u=u||n.S;e.addClass([o,l,w,u].join(" "))};o.getBoxesPerRowClass=function(e,t){var r=parseInt(e.substr(t,e.length),10);if(r&&r>0&&r<13){return"sapTntBoxContainerSpan"+e}};o.getAccessibilityState=function(e){return{role:"listbox"}};o.getRenderingConfiguration=function(e){return{grouped:e.isGrouped(),showNoData:e.getShowNoData(),renderItems:e.shouldRenderItems()&&e.getItems()&&e.getItems().length,tabIndex:e.getKeyboardMode()==i.Edit?-1:0,upwardGrowing:e.getGrowingDirection()==r.Upwards&&e.getGrowing()}};o.renderNoData=function(e,t){e.write("<li");e.writeAttribute("tabindex",t.getKeyboardMode()==i.Navigation?-1:0);e.writeAttribute("id",t.getId("nodata"));e.addClass("sapMLIB sapMListNoData sapMLIBTypeInactive");e.writeClasses();e.write(">");e.write("<div");e.addClass("sapMListNoDataText");e.writeAttribute("id",t.getId("nodata-text"));e.writeClasses();e.write(">");e.writeEscaped(t.getNoDataText(true));e.write("</div>");e.write("</li>")};o.renderDummyArea=function(e,r,i,a){e.write("<div");e.writeAttribute("id",r.getId(i));e.writeAttribute("tabindex",a);if(t.system.desktop){e.addClass("sapMListDummyArea").writeClasses()}e.write("></div>")};o.renderGrowing=function(e,t){var r=t._oGrowingDelegate;if(!r){return}r.render(e)};return o},true);